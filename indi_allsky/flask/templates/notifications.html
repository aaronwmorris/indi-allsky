{% extends 'base.html' %}

{% block title %}indi-allsky: Notifications{% endblock %}

{% block head %}
<style>
</style>
<link href="{{ url_for('indi_allsky.static', filename='DataTables/datatables.min.css') }}" rel="stylesheet">
<script src="{{ url_for('indi_allsky.static', filename='DataTables/datatables.min.js') }}"></script>
<script type="text/javascript">
var camera_id = {{ camera_id }};
</script>

{% endblock %}

{% block content %}
<div class="container">
<div class="row">
  <table id="notifications-table" class="table table-striped compact">
    <thead>
      <tr>
        <th>ID</th>
        <th>Category</th>
        <th>Create</th>
        <th>Expire</th>
        <th>Acked</th>
        <th>Notification</th>
      </tr>
    </thead>
    <tbody>
      {% for notice in notice_list %}
      <tr>
        <td>{{ notice.id }}</td>
        <td>{{ notice.category }}</td>
        <td>{{ notice.createDate.strftime('%Y-%m-%d %H:%M:%S') }}</td>
        <td>{{ notice.expireDate.strftime('%Y-%m-%d %H:%M:%S') }}</td>
        <td>{{ notice.ack }}</td>
        <td>{{ notice.notification }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<script>
function init() {
    new DataTable('#notifications-table', {
        searching: true,
        order: [[2, 'desc']],
        lengthMenu: [20, 50, 100, -1],
        layout: {
            topEnd: ['buttons', 'search'],
        },
        buttons: [
            'copy',
            'csv',
            'excel',
        ]
    });
}


$( document ).ready(function() {
    init();
});
</script>

{% endblock %}
